# 问题三：AI 竞争力排名预测（2026–2035）

> 目标：基于 10 国 24 指标 2016–2025 年完整面板数据，建立可复现、可解释的预测—评估一体化流程，预测 2026–2035 年各国 AI 竞争力得分与年度排名变化。

---

## 1. 问题重述与建模目标

题目要求我们综合 2016–2025 年发展轨迹（战略、资源投入、技术演进等在数据中的体现），并依托问题二已构建的综合评估模型，对 10 个国家在 2026–2035 年的 AI 竞争力排名进行预测。

为满足题意与可复现性，本题分解为三步：

1. **指标预测**：对每个国家的每个指标序列（2016–2025）进行时间序列预测，得到 2026–2035 指标值；
2. **年度评估**：对每一年（2026–2035）应用问题二评估模型计算综合得分；
3. **排名与驱动分析**：据年度得分生成排名，并分析排名变化的主要驱动指标。

---

## 2. 数据说明与符号

### 2.1 数据结构

* 国家集合：(i=1,\dots,n), (n=10)
* 指标集合：(j=1,\dots,m), (m=24)
* 历史年份：(t\in{2016,\dots,2025})（10 年）
* 预测年份：(t\in{2026,\dots,2035})（10 年）

面板数据：(x_{i,j,t}) 表示国家 (i) 在年份 (t) 的指标 (j) 值。

### 2.2 指标类型与约束

为避免预测值出现物理不合理（如负值、超上界），对指标按性质设置约束：

* **非负型**（数量、规模、投入等）：(x\ge 0)
* **比例/覆盖率型**：(x\in[0,1]) 或 ([0,100])（按数据口径）

---

## 3. 总体建模框架（预测—评估一体化）

本题采用“**预测指标 → 年度评价 → 排名演化**”的统一框架。

### 3.1 流程概述

1. 对每条序列 ({x_{i,j,t}}*{t=2016}^{2025}) 建立预测模型，得到 (\hat{x}*{i,j,t})（(t=2026,\dots,2035)）。
2. 对每个预测年份 (t)：构造当年 10×24 指标矩阵 (\hat{X}*t)，代入问题二的权重 (w_j) 与 TOPSIS 评估流程，得到得分 (C*{i,t})。
3. 按 (C_{i,t}) 降序得到年度排名 (Rank_{i,t})，并统计 2026–2035 的排名变化与驱动因素。

**关键原则**：

* **完全删除手工修正参数**（如按国家指定 (\alpha) 的做法）。
* 预测端仅使用**历史数据可计算**的规则；评估端严格继承问题二模型。

---

## 4. 指标预测模型：GM(1,1) + 回测诊断 + 兜底预测器

由于单个指标的历史点数仅 10 年，且不同指标的趋势模式可能不同，本题采用“默认 GM(1,1)，并以回测诊断触发兜底模型”的稳健策略。

### 4.1 默认预测模型：灰色 GM(1,1)

对固定国家 (i) 与指标 (j)，原始序列为：

[
X^{(0)} = (x^{(0)}(1), x^{(0)}(2), \dots, x^{(0)}(n)),\quad n=10
]

**(1) AGO 累加生成**
[
x^{(1)}(k) = \sum_{r=1}^{k} x^{(0)}(r),\quad k=1,\dots,n
]

**(2) 紧邻均值生成**
[
z^{(1)}(k)=\tfrac{1}{2}\left(x^{(1)}(k)+x^{(1)}(k-1)\right),\quad k=2,\dots,n
]

**(3) 建模方程**
[
\frac{dx^{(1)}}{dt}+a x^{(1)} = b
]

**(4) 最小二乘估计参数**
[
B=\begin{bmatrix}

* z^{(1)}(2) & 1\
* z^{(1)}(3) & 1\
  \vdots & \vdots\
* z^{(1)}(n) & 1
  \end{bmatrix},\quad
  Y=\begin{bmatrix}
  x^{(0)}(2)\ x^{(0)}(3)\ \vdots\ x^{(0)}(n)
  \end{bmatrix}
  ]
  [
  \hat{\theta}=(\hat{a},\hat{b})^T=(B^TB)^{-1}B^TY
  ]

**(5) 时间响应函数与还原**
[
\hat{x}^{(1)}(k+1)=\left(x^{(0)}(1)-\tfrac{b}{a}\right)e^{-ak}+\tfrac{b}{a}
]
[
\hat{x}^{(0)}(k+1)=\hat{x}^{(1)}(k+1)-\hat{x}^{(1)}(k)
]

### 4.2 工程化约束与变换（保证可用）

为保证 GM(1,1) 在不同指标上稳定运行：

1. **非负平移**：若序列存在 0 或接近 0 导致建模不稳定，则对序列做平移
   [
   x' = x + c,; c>0
   ]
   预测后再减回 (c)。

2. **边界截断**：

* 非负型：(\hat{x}\leftarrow\max(\hat{x},0))
* 比例型：(\hat{x}\leftarrow\min(\max(\hat{x},L),U))

3. **跨度过大时的对数变换（可选）**：对规模型指标可使用 (\log(1+x)) 变换后预测，再反变换还原。

> 上述处理均为统一规则，不引入任何国家级手工修正。

### 4.3 回测诊断（模型可行性的证据）

为验证预测模型适用性，我们对每个国家—指标序列进行单步回测：

* 训练：2016–2024
* 预测：2025
* 误差度量：MAPE（或 SMAPE/RMSE）

[
\text{MAPE}=\frac{1}{N}\sum_{k=1}^{N}\left|\frac{x_k-\hat{x}_k}{x_k}\right|\times 100%
]

并将回测误差写入诊断表，用于触发兜底模型。

### 4.4 兜底预测器（当 GM 回测不佳时启用）

当某条序列回测误差超过阈值（如 MAPE > 20%）或 GM 参数异常（如 (|a|) 极大导致发散），则启用兜底预测器。

为保证实现简洁且可解释，采用以下之一：

* **Holt 线性趋势指数平滑**（适合近线性趋势、缓慢变化的序列）
* **线性回归趋势**（适合近线性增长/下降且噪声较小的序列）

兜底模型同样遵循边界截断与指标约束。

> 该策略保证：大多数指标使用 GM(1,1) 的小样本优势；少数不适配指标由兜底模型吸收，提高整体排名预测的稳健性。

---

## 5. 年度综合评估：继承问题二的“熵权（权重）+ TOPSIS”

### 5.1 权重继承原则

设问题二给出的 24 指标权重为 (W=(w_1,\dots,w_{24}))，满足 (\sum_j w_j=1)。

问题三在所有年份 (t=2026,\dots,2035) **固定使用该权重**，确保跨任务一致性。

### 5.2 TOPSIS 评估步骤（逐年执行）

对每一年 (t)，构造预测指标矩阵 (\hat{X}*t=(\hat{x}*{i,j,t})_{10\times 24})。

**(1) 向量归一化**
[
r_{ij,t}=\frac{\hat{x}*{i,j,t}}{\sqrt{\sum*{i=1}^{n}\hat{x}_{i,j,t}^2}}
]

**(2) 加权归一化**
[
z_{ij,t}=w_j,r_{ij,t}
]

**(3) 正负理想解**
[
z_{j,t}^+=\max_i z_{ij,t},\quad z_{j,t}^-=\min_i z_{ij,t}
]

**(4) 距离计算**
[
D_{i,t}^+=\sqrt{\sum_{j=1}^{m}(z_{ij,t}-z_{j,t}^+)^2},\quad
D_{i,t}^-=\sqrt{\sum_{j=1}^{m}(z_{ij,t}-z_{j,t}^-)^2}
]

**(5) 相对贴近度得分**
[
C_{i,t}=\frac{D_{i,t}^-}{D_{i,t}^++D_{i,t}^-}\in[0,1]
]

### 5.3 年度排名

对固定年份 (t)，按 (C_{i,t}) 从大到小排序得到排名：

[
Rank_{i,t}=\text{rankdesc}(C_{i,t})
]

---

## 6. 排名变化与驱动因素分析（结果解释框架）

在得到 2026–2035 的年度得分与排名后，从两层进行解释：

1. **排名演化统计**：

* 每国 10 年平均排名、最大升降幅、波动幅度（标准差）
* 整体排名流动性（如 Kendall τ 或年度排名变动次数）

2. **驱动指标贡献分析（可复现）**：

* 使用 TOPSIS 加权矩阵 (z_{ij,t}) 的变化来解释得分变化
* 对某国某年的得分变化，可分解为高权重指标的变化贡献（以 (w_j\Delta r) 近似解释）

> 驱动分析坚持“由权重与预测值自动生成结论”，避免先验主观叙述。

---

## 7. 模型验证与稳健性

### 7.1 预测端验证

* 输出每条序列的回测误差（2016–2024 → 2025）
* 统计 GM 与兜底模型的启用比例
* 对误差显著的指标进行标记，并在讨论中说明其对最终排名的影响程度

### 7.2 评估端一致性验证

* 固定使用问题二权重 (w_j)
* 所有年份采用同一 TOPSIS 流程
* 通过比较 2025 年“真实数据评估得分”与“预测2025评估得分”验证评估链路的正确性

### 7.3 敏感性（可选）

* 改变兜底阈值（如 MAPE 15%/20%/25%）检查排名稳定性
* 对高权重指标添加小扰动（±1%）检查 TOPSIS 得分与排名的敏感度

---

## 8. 输出与复现要求（工程交付约定）

为保证可复现，代码应输出以下文件到 `outputs/`：

1. `predicted_indicators_2026_2035.csv`

* 预测指标长表：国家、年份、指标、预测值

2. `topsis_scores_2026_2035.csv`

* 每年各国得分 (C_{i,t})

3. `rankings_2026_2035.csv`

* 每年各国排名

4. `forecast_diagnostics.csv`

* 每条序列：使用模型（GM/兜底）、回测误差、关键参数与约束信息

---

## 9. 关键假设（精简且可辩护）

1. **指标口径稳定假设**：2016–2025 年同一指标在各国之间具有可比性，且跨年统计口径无系统性突变。
2. **短期结构延续假设**：2016–2025 年的趋势与波动模式可作为 2026–2035 预测的主要依据；突发性结构断点（如重大危机）不在本模型显式刻画范围内。
3. **评估一致性假设**：问题二得到的权重体系可用于未来年份的相对比较，且权重在预测期内保持稳定。

---

## 10. 本修订方案相对原方案的改进点

* **删除手工修正参数**：不再使用按国家指定 (\alpha) 的主观修正。
* **增加回测诊断**：用 2016–2024 → 2025 的误差度量证明预测器的可用性。
* **引入兜底预测器**：对不适配 GM 的序列自动切换，提高整体稳健性。
* **加入边界与口径约束**：保证预测值物理合理，从源头减少评估波动。
* **严格继承问题二评估模型**：权重与 TOPSIS 流程保持一致，确保跨题一致性与可复现。
